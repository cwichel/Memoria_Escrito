% Soporte de separacion en archivos
\usepackage{subfiles}


% =========================== LAYOUT
% Geometría del documento (tamaños)
\usepackage[
		letterpaper,
		top=2.5cm,
		bottom=2.5cm,
		left=3.5cm,
		right=2.5cm,
		%bindingoffset=6mm
		]{geometry}

% Cabeceras/Footers
\usepackage{fancyhdr}
\renewcommand\headrulewidth{0pt}
\renewcommand\footrulewidth{0pt}
\fancyhead[L]{}
\fancyhead[C]{}
\fancyhead[R]{}
\fancyfoot[L]{}
\fancyfoot[C]{}
\fancyfoot[R]{\thepage}
\usepackage[bottom]{footmisc}

% =========================== TEXTO
% Soporte de idioma y fuentes
\usepackage[utf8]{inputenc}	% Permite acentos
\usepackage[spanish]{babel}	
\usepackage[T1]{fontenc}	% Permite referencias con acentos
\usepackage{				% Soporte de caracteres matemáticos
		amsmath, 
		amssymb,
		amstext,
		amsfonts, 
		textcomp,
		gensymb
		}
\usepackage{times}			% Selecciona Times New Roman como fuente

% Interlineado
\usepackage{setspace}
\setstretch{1.3}

% Soporte para listas
\usepackage{enumerate}

% colores
\usepackage[table, x11names, usenames]{xcolor}
\definecolor{darkgray}{gray}{0.25}
\definecolor{halfgray}{gray}{0.55}
\definecolor{lightgray}{gray}{0.99}
\definecolor{maroon}{cmyk}{0, 0.87, 0.68, 0.32}

\definecolor{sql_orange}{RGB}{204, 120, 50}
\definecolor{sql_green}{RGB}{42, 53, 35}
\definecolor{sql_gray}{gray}{0.55}

\definecolor{matlab_green}{RGB}{28,172,0}
\definecolor{matlab_lilas}{RGB}{170,55,241}

\definecolor{ipython_red}{RGB}{186, 33, 33}
\definecolor{ipython_green}{RGB}{0, 128, 0}
\definecolor{ipython_cyan}{RGB}{64, 128, 128}
\definecolor{ipython_purple}{RGB}{170, 34, 255}

% Soporte para hipervinculos
\usepackage[colorlinks,hyperindex,pagebackref]{hyperref}
\hypersetup{
	citecolor=darkgray,
	filecolor=darkgray,
	linkcolor=darkgray,
	urlcolor=darkgray
}
% =========================== FIGURAS/TABLAS/CODIGO
% Permite agregar marcos 
\usepackage{framed}

% Soporte de imagenes
\usepackage{eso-pic}
\usepackage{graphicx}
\graphicspath{{\main/Imagenes/}}

% Soporte para flotantes
\usepackage{float}				% Permite usar H como especificador de posición de figuras

% ================================
\newcommand\textref[1]{{\footnotesize{\ttfamily{#1}}}}

% Soporte de codigo =================================================
\usepackage{listings}
\renewcommand{\lstlistingname}{Algoritmo}
\renewcommand{\lstlistlistingname}{Lista de \lstlistingname s}
\lstset{
	inputpath=\main/Archivos/,			% where are located the files
	backgroundcolor=\color{white},		% choose the background color    
    breaklines=true,					% automatic line breaking only at whitespace
    % =============
    basicstyle=\scriptsize\ttfamily,	% font size
    identifierstyle=\color{black}\ttfamily,
    % =============
    numbers=left,						% number position
	numbersep=9pt,						% number separation to code
    numberstyle=\tiny\color{halfgray},	% number size and color
    % =============
	showstringspaces=false,
    showspaces=false,
    keepspaces=true,
    % =============
    extendedchars=true,
    literate=
    {á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1
    {Á}{{\'A}}1 {É}{{\'E}}1 {Í}{{\'I}}1 {Ó}{{\'O}}1 {Ú}{{\'U}}1
    {à}{{\`a}}1 {è}{{\`e}}1 {ì}{{\`i}}1 {ò}{{\`o}}1 {ù}{{\`u}}1
    {À}{{\`A}}1 {È}{{\'E}}1 {Ì}{{\`I}}1 {Ò}{{\`O}}1 {Ù}{{\`U}}1
    {ä}{{\"a}}1 {ë}{{\"e}}1 {ï}{{\"i}}1 {ö}{{\"o}}1 {ü}{{\"u}}1
    {Ä}{{\"A}}1 {Ë}{{\"E}}1 {Ï}{{\"I}}1 {Ö}{{\"O}}1 {Ü}{{\"U}}1
    {â}{{\^a}}1 {ê}{{\^e}}1 {î}{{\^i}}1 {ô}{{\^o}}1 {û}{{\^u}}1
    {Â}{{\^A}}1 {Ê}{{\^E}}1 {Î}{{\^I}}1 {Ô}{{\^O}}1 {Û}{{\^U}}1
    {œ}{{\oe}}1 {Œ}{{\OE}}1 {æ}{{\ae}}1 {Æ}{{\AE}}1 {ß}{{\ss}}1
    {ç}{{\c c}}1 {Ç}{{\c C}}1 {ø}{{\o}}1 {å}{{\r a}}1 {Å}{{\r A}}1
    {€}{{\EUR}}1 {£}{{\pounds}}1 {+=}{{{+=}}}1 {-=}{{{-=}}}1 
    {*=}{{{$^\ast$=}}}1 {/=}{{{/=}}}1,
}

% ================================
\newcommand\SQLStyle{
	\lstset{
	language=SQL,
	tabsize=4,
	% =============
	morekeywords={
		after, and, as, asc, begin, by, cascade, constraint, create, default, delete, desc, end, exists, foreign, from, full, if, index, inner, insert, into, join, key, left, not, null, of, on, or, order, outer, pragma, primary, references, right, set, select, table, trigger, unique, update, value, values, where},
	keywordstyle={\color{sql_orange}\ttfamily\bfseries},
	% =============
	morekeywords=[2]{
		int, integer, tinyint, smallint, mediumint, bigint, int2, int8, unsigned, big, character, varchar, varying, nchar, native, nvarchar, text, clob, blob, bone, real, double, precision, float, numeric, decimal, boolean, date, datetime, timestamp},
	keywordstyle=[2]{\color{sql_orange}\ttfamily\bfseries},
	% =============
	stringstyle=\color{sql_green}\ttfamily,
	commentstyle=\color{sql_gray}\ttfamily,
	emphstyle=\color{blue}\ttfamily,
	}
}
% Entorno
\lstnewenvironment{SQL}[1][]{
\SQLStyle\lstset{#1}
}{}
% Cargar archivos externos
\newcommand\SQLExternal[2][]{{
\SQLStyle\lstinputlisting[#1, captionpos=b]{#2}
}}
% Para escribir en linea
\newcommand\SQLInline[1]{{
\SQLStyle\lstinline!#1!
}}

% ================================
\newcommand\matlabStyle{
	\lstset{
	language=matlab,
	tabsize=4,
	% =============
	morekeywords={matlab2tiks},
	keywordstyle=\color{blue}\ttfamily\bfseries,
	% =============
	morekeywords=[2]{1},
	keywordstyle=[2]{\color{black}\ttfamily\bfseries},
	% =============
    emph={for,end,break},
    emphstyle=\color{blue}\ttfamily,
    % =============
    stringstyle=\color{matlab_lilas}\ttfamily,
    commentstyle=\color{matlab_green}\ttfamily,
	}
}
% Entorno
\lstnewenvironment{matlab}[1][]{
\matlabStyle\lstset{#1}
}{}
% Cargar archivos externos
\newcommand\matlabExternal[2][]{{
\matlabStyle\lstinputlisting[#1, captionpos=b{#2}
}}
% Para escribir en linea
\newcommand\matlabInline[1]{{
\matlabStyle\lstinline!#1!
}}

% ================================
\newcommand\pythonStyle{
	\lstset{
	language=python,
	tabsize=4,
	% =============
	morekeywords={
		access,and,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,not,or,pass,print,raise,return,try,while},
	keywordstyle={\color{blue}\ttfamily\bfseries},
	% =============
	morekeywords=[2]{
		abs,all,any,basestring,bin,bool,bytearray,callable,chr,classmethod,cmp,compile,complex,delattr,dict,dir,divmod,enumerate,eval,execfile,file,filter,float,format,
		frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,isinstance,issubclass,iter,len,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,
		property,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip,apply,
		buffer,coerce,intern},
	keywordstyle=[2]{\color{ipython_green}\ttfamily},
	% =============
	morecomment=[l]\#,
	commentstyle=\color{ipython_cyan}\ttfamily,
	% =============
    morestring=[b]',
    morestring=[b]",
    morestring=[s]{'''}{'''},			% used for documentation text (mulitiline strings)
    morestring=[s]{"""}{"""},			% added by Philipp Matthias Hahn
    morestring=[s]{r'}{'},				% `raw' strings
    morestring=[s]{r"}{"},				%
    morestring=[s]{r'''}{'''},			%
    morestring=[s]{r"""}{"""},			%
    morestring=[s]{u'}{'},				% unicode strings
    morestring=[s]{u"}{"},				%
    morestring=[s]{u'''}{'''},			%
    morestring=[s]{u"""}{"""},			%
    stringstyle=\color{ipython_red}\ttfamily,
    % =============
    literate=
    {€}{{\EUR}}1 {£}{{\pounds}}1
    {^}{{{\color{ipython_purple}\^{}}}}1
    {=}{{{\color{ipython_purple}=}}}1
    {+}{{{\color{ipython_purple}+}}}1
    {*}{{{\color{ipython_purple}$^\ast$}}}1
    {/}{{{\color{ipython_purple}/}}}1
	}
}
% Entorno
\lstnewenvironment{python}[1][]{
\pythonStyle\lstset{#1}
}{}
% Cargar archivos externos
\newcommand\pythonExternal[2][]{{
\pythonStyle\lstinputlisting[#1, captionpos=b]{#2}
}}
% Para escribir en linea
\newcommand\pythonInline[1]{{
\pythonStyle\lstinline!#1!
}}

% ===================================================================
% Soporte para figuras
\usepackage{caption}
\usepackage[
		font=footnotesize,
		caption=false,
		farskip=0mm,
		captionskip=0mm,
		nearskip=0mm
		]{subfig}				% Permite referencia a subfiguras 

% Soporte para tablas 
\usepackage{array}
\usepackage{longtable}
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\usepackage{multirow,multicol}
\usepackage{tabularx}			% Justifica contenido de tablas
\usepackage{colortbl}			% Mejora visualmente las tablas
\def\arraystretch{1.2}

% =========================== FORMATOS
% Soporte para apendices
\usepackage{appendix}

% Soporte para bibliografia
\usepackage[fixlanguage]{babelbib}
\usepackage[nocompress]{cite}
\selectbiblanguage{spanish}

% Permite mantener las marcas al crear el PDF
\usepackage{bookmark}

% Permite añadir hipervinculo
\usepackage{url}
\urlstyle{same}

% Soporte para glosarios
\usepackage{xparse}
\usepackage[acronym, nopostdot, nogroupskip, nonumberlist, style=super]{glossaries}
\setlength{\glsdescwidth}{0.7\textwidth}
\makeglossaries

\renewcommand{\glossaryname}{Glosario}
\renewcommand{\acronymname}{Acrónimos}

% Para agregar un elemento al glosario y siglas
%\newdualentry[options]{label}{abbrv}{long}{description}
\newcommand\newdualentry[5][]{%
  \newglossaryentry{main-#2}{name={#4},%
  text={#3\glsadd{#2}},%
  description={{#5}},%
  #1
  }%
  \newglossaryentry{#2}{
  type=\acronymtype,
  first={#4 (#3)},
  name={#3\glsadd{main-#2}},
  description={\glslink{main-#2}{#4}}
  }%
}
% Se carga el glosario
\input{\main/Glosario}

% =========================== SIN REVISAR
\usepackage{blindtext}
\usepackage{verbatim}
\usepackage{lscape}
\usepackage{alltt}
\usepackage{soul}
\usepackage{xr}
